name: GitHub Action Status

on:
  push:
    branches:
      - master
  workflow_run:
    workflows: ["NombreDeTuWorkflow"]
    types:
      - completed

jobs:
  notify_discord:
    runs-on: ubuntu-latest
    steps:
    - name: Check for errors
      run: echo "No hay errores"  # Este paso no realizará ninguna comprobación de errores, solo es un marcador.

    - name: Send Discord Notification
      if: failure()  # Esta notificación solo se enviará si hay errores en los pasos anteriores.
      uses: appleboy/discord-action@master
      with:
        webhook_id: ${{ secrets.DISCORD_WEBHOOK }}
        content: "¡Atención! Hubo errores en la ejecución del flujo de trabajo."

    - name: Send Discord Notification
      if: success()  # Esta notificación se enviará si no hay errores en los pasos anteriores.
      uses: appleboy/discord-action@master
      with:
        webhook_id: ${{ secrets.DISCORD_WEBHOOK }}
        content: "¡Buenas noticias! El flujo de trabajo se ejecutó sin errores."
